<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=s, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    // let num = 1;
    // function fn(){
    //     if(num == 6){
    //         return;//递归一定要设置return,终止递归
    //     }
    //     num ++;
    //     console.log('我正在递归');
    //     fn();
    // }
    // fn()


    // 递归累加=====================3+2+1

    function add(n) {
        if (n < 0) {
            return 0;
        }
        return n + add(n - 1)
    }
    // console.log(add(3));
    // 解析
    // 3+add(3-1) = 3+add(2) //此时不能计算3+add(2)，还需要近一步计算add(2)里面的值依次类推
    // 3+add(2) add(2) = 2+add(1)   add(1) = 1+add(0)  add(0)=0
    // 连起来就是 3+2+1+0

    function chen(n) {
        if (n < 0) {
            return 0;
        }
        n -= 1;//错误的写法
        return n + chen(n)
    }
    // console.log(chen(4));
    // 错误写法解析
    // 3 + chen(3) chen(3) = 2+chen(2) = 0 + chen(0) = 0
    // 连起来就是3+2+0+0，所以赋值操作，要写在递归函数括号内


    // ============================写个冒泡排序
    var arr = [1, 3, 5]
    for (let i = 0; i < arr.length; i++) {
        for (let j = i + 1; j < arr.length; j++) {
            if (arr[i] < arr[j]) {
                //就是换位置
                let temp = arr[i];
                arr[i] = arr[j];
                arr[j] = temp;
            }
        }
    }

    var goods_arr = [
        {
            id: '1',
            name: '电器',
            goods: [
                {
                    id: 11,
                    name: '洗衣机',
                    goods: [
                        {
                            id: 111,
                            name: '海尔'
                        },
                        {
                            id: 112,
                            name: '美的'
                        }
                    ]
                },
                {
                    id: 12,
                    name: '电视'
                }
            ]
        },
        {
            id: 2,
            name: '衣服类'
        }
    ]
    function getid(data,id){
        let o = {};
        data.forEach(item => {
            if(item.id == id){
                o = item
            }else if(item.goods && item.goods.length){
                o = getid(item.goods,id)
            }
        });
        return o;
    }
    // ===========================递归取值

    // console.log(getid(goods_arr, 112));


    // ================================深拷贝

    var obj = {
        name:'cc',
        id:1,
        msg:{
            age:18
        },
        color:['red','black']
    }
    var o = {};

    function deep(new_obj,old_obj){
        for(let name in old_obj){
            let item = old_obj[name];
            if(item instanceof Array){ //必须先判断数组  因为数组instanceof 也属于object
                new_obj[name] = [];
                deep(new_obj[name],old_obj[name]) //new_obj[name] 这里其实是传入的一个指向，不要理解为传入了数组
            }else if(item instanceof Object){
                new_obj[name] = {}
                deep(new_obj[name],old_obj[name])
            }else{
                new_obj[name] = item;
            }
        }
        return o;
    }
    

    console.log(deep(o,obj));
    
    



   


</script>

</html>